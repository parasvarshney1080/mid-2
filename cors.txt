$(document).ready(function () {
    // Call getProducts when the page is ready
    getProducts();

    // Function to get products and populate the list
    function getProducts() {
        $.ajax({
            url: 'https://localhost:7102/api/product',
            method: 'GET',
            success: function (data) {
                var productList = $('#productList tbody');
                productList.empty(); // Clear existing data

                $.each(data, function (index, product) {
                    productList.append(`
                        <tr>
                            <td>${product.id}</td>
                            <td>${product.name}</td>
                            <td>${product.price}</td>
                        </tr>
                    `);
                });
            },
            error: function (error) {
                console.error('Error fetching products:', error);
            }
        });
    }

    // Function to create a product
    function createProduct() {
        var productName = $('#productName').val();
        var productPrice = $('#productPrice').val();

        $.ajax({
            url: 'https://localhost:7102/api/Product',
            method: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                Name: productName,
                Price: productPrice
            }),
            success: function (data) {
                alert('Product created successfully!');
                $('#productName').val('');
                $('#productPrice').val('');
                getProducts(); // Refresh the product list after creating
            },
            error: function (error) {
                console.error('Error creating product:', error);
            }
        });
    }
});


<!DOCTYPE html>
<html>
<head>
    <title>Product View</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/javascript/product.js"></script>
</head>
<body>

<h2>Product List</h2>

<div id="productList">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Product ID</th>
                <th>Name</th>
                <th>Price</th>
            </tr>
        </thead>
        <tbody>
            <!-- This section will be populated with product list using jQuery -->
        </tbody>
    </table>
</div>

<h2>Create Product</h2>

<div id="createProductForm">
    <div class="form-group">
        <label for="productName">Name</label>
        <input type="text" class="form-control" id="productName">
    </div>
    <div class="form-group">
        <label for="productPrice">Price</label>
        <input type="text" class="form-control" id="productPrice">
    </div>
    <button class="btn btn-primary" onclick="createProduct()">Save</button>
</div>

</body>

</html>



product.js:54 Error creating product: Object
error @ product.js:54
c @ jquery.min.js:2
fireWith @ jquery.min.js:2
l @ jquery.min.js:2
(anonymous) @ jquery.min.js:2
load (async)
send @ jquery.min.js:2
ajax @ jquery.min.js:2
createProduct @ product.js:39
(anonymous) @ product.js:31
dispatch @ jquery.min.js:2
v.handle @ jquery.min.js:2
:7102/api/Product:1     Failed to load resource: the server responded with a status of 400 ()
